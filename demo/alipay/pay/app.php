<?php
/**
 * | ---------------------------------------------------------------------------------------------------
 * | Author：johnxu <fsyzxz@163.com>.
 * | ---------------------------------------------------------------------------------------------------
 * | Home: https://www.johnxu.net.
 * | ---------------------------------------------------------------------------------------------------
 * | Data: 2019/1/11
 * | ---------------------------------------------------------------------------------------------------
 * | Desc: APP支付
 * | ---------------------------------------------------------------------------------------------------
 * | Doc： https://docs.open.alipay.com/204/105465/
 * | ---------------------------------------------------------------------------------------------------
 */

require '../../../vendor/autoload.php';

use johnxu\tool\Config;
use johnxu\payment\Payment;

$config = require '../../config.php';

try
{
    $alipay = Payment::getInstance( $config )->pay( 'alipay' );

    $payment = $alipay->app( array(
        'out_trade_no' => uniqid(),
        'total_amount' => '0.01',
        'subject'      => 'H5支付测试',
    ) );

    var_dump( $payment );
}
catch ( \johnxu\payment\Exception $e )
{
}


